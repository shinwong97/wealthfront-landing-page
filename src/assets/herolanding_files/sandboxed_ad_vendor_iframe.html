
<!-- saved from url=(0054)https://www.wf-box.net/sandboxed_ad_vendor_iframe.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
    <script src="./pixel.js.download" async=""></script><script>
      /* Error Handling */
      function sendErrorToParent(errorObj) {
        window.parent.postMessage(errorObj, '*');
      }
    </script>
    <script>
      // Global
      if (window.frameElement !== null) {
        document.body.innerHTML = '';
        sendErrorToParent({ sandboxedErrorToTrack: 'Sandboxing failed.' });
      }

      var SUPPORTED_ORIGINS = [
        'https://www.wealthfront.com',
        'https://blog.wealthfront.com',
        'https://support.wealthfront.com',
        'https://canary.kcprod.info',
        'https://invest.wealthfront.com/',
      ];
      var DEVELOPMENT_ORIGINS = ['http://localhost:3000', 'http://localhost:3001'];
      var TIMEOUT_THRESHOLD = 1400;

      function isDevelopment(origin) {
        return DEVELOPMENT_ORIGINS.includes(origin);
      }

      window.trackers = {};
    </script>
    <script async="" src="./js"></script>
    <script>
      /* Adwords */
      (() => {
        const trackerToken = 'AW-963914252';
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }

        window.trackers.adwords = function (message) {
          if (!message.type || !message.command) {
            sendErrorToParent({
              sandboxedErrorToTrack: `iframe sandbox: adwords missing require parameters ${JSON.stringify(
                message
              )}`,
            });
          }

          if (message.type === 'config') {
            gtag('js', new Date());
          }

          var params = Object.assign({}, message.commandParameters, {
            event_timeout: message.timeout,
          });

          if (message.command === 'conversion') {
            params.event_callback = function() {
              console.log('conversion complete', arguments);
            };
          }

          if (isDevelopment(message.origin)) {
            console.log('adwords tracking', message.type, message.command, params);
          } else {
            gtag(message.type, message.command, params);
          }
        };
      })();
    </script>

    <script>
      /* Reddit */
      !function (w, d) { if (!w.rdt) { var p = w.rdt = function () { p.sendEvent ? p.sendEvent.apply(p, arguments) : p.callQueue.push(arguments) }; p.callQueue = []; var t = d.createElement("script"); t.src = "https://www.redditstatic.com/ads/pixel.js", t.async = !0; var s = d.getElementsByTagName("script")[0]; s.parentNode.insertBefore(t, s) } }(window, document);
      rdt('init', 't2_niks9');

      (() => {
        window.trackers.reddit = function (message) {
          var VALID_EVENTS = ['PageVisit', 'ViewContent', 'Search', 'AddToCart', 'AddToWishlist', 'Purchase', 'Lead', 'SignUp'];

          if (!message.eventName) {
            sendErrorToParent({
              sandboxedErrorToTrack: `iframe sandbox: reddit missing require parameters ${JSON.stringify(
                message
              )}`,
            });
          }

          if (!VALID_EVENTS.includes(message.eventName)) {
            sendErrorToParent({
              sandboxedErrorToTrack: `iframe sandbox: invalid reddit eventName: ${message.eventName}`,
            });
          }

          if (isDevelopment(message.origin)) {
            console.log('reddit tracking', message.eventName, window.location);
          } else {
            rdt('track', message.eventName);
          }
        };
      })();
    </script>
    <title>wf-box</title>
  </head>
  <body>
    <script>
      (function () {
        function invokeTracker(message) {
          switch (message.trackingType) {
            case 'adwords':
              window.trackers.adwords(message);
              break;
            case 'reddit':
              window.trackers.reddit(message);
              break;
            default:
              sendErrorToParent({
                sandboxedErrorToTrack: 'iframe sandbox: Unknown tracking event: ' + JSON.stringify(message),
              });
          }
        }

        window.addEventListener(
          'message',
          function (event) {
            if ([...DEVELOPMENT_ORIGINS, ...SUPPORTED_ORIGINS].includes(event.origin) || typeof event.data !== 'string') {
              var message = event.data;
              message.origin = event.origin;

              if (message.isAdTracking) {
                invokeTracker(message);
              } else if (message.setUrl) {
                window.history.pushState({}, '', message.url);
              }
            }
          },
          false
        );
      })();
    </script>
  

</body></html>